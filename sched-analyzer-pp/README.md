# sched-analyzer-pp

Post process the produced sched-analyzer.perfetto-trace to detect potential
problems or summarizes some metrics.

## Requirements

```
pip install -r requirements.txt
```

### Setup autocomplete

```
activate-global-python-argcomplete --user
complete -r sched-analyzer-pp
```

You might need to add the following to your ~/.bash_completion to get it to
work:

```
for file in ~/.bash_completion.d/*
do
	. $file
done
```

### Add to PATH

Add following to your .bashrc or equivalent

```
export PATH=~/path/to/sched-analyzer-pp:$PATH
```

## Available analysis

See `sched-analyzer-pp --help` for list of all available
options

* Plot frequency selection and residency for each policy on TUI
* Plot frequency and residency seen by a task when it is RUNNING
* Plot idle residencies on TUI
* Plot various PELT data on TUI for CPU and Tasks
* Plot various PELT data on TUI for a task when it is RUNNING
* Plot nr-cpu-running on TUI
* Save produced TUI output as png image (not available for all outputs)
* Save raw data as csv

## Usage

### Plot freq and freq residency for each CPU

Can be used on any perfetto trace captured with cpufreq data.

```
sched-analyzer-pp --freq --freq-residency sched-analyzer.perfetto-trace

                                             CPU0 Frequency                                         
    ┌──────────────────────────────────────────────────────────────────────────────────────────────┐
2.06┤                       ▐▌                           ▐▀▌                                       │
1.70┤                       ▐▙                           ▐ ▌                                       │
1.33┤                       ▐█▖   ▖                      ▟ ▌                                       │
    │                        █▌   ▌                      ▌ ▌                                       │
0.97┤                        ▜█   █                      ▌ ▌   ▐                                   │
0.60┤                        ▐█▄▄▄█▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▌ ▙▄▄▄▟▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄│
    └┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬┘
   0.00      0.36       0.72      1.07      1.43       1.79      2.15      2.51       2.87     3.22 
                                             CPU4 Frequency                                         
    ┌──────────────────────────────────────────────────────────────────────────────────────────────┐
3.20┤                       ▝▌                              ▟▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀│
2.55┤                        ▌                           ▗▄▐▘                                      │
1.90┤                        ▌    ▌                      ▐▐▛                                       │
    │                        ▌    ▙▖                     ▐▐▌                                       │
1.25┤                        ▌    █▌                     ▐▐▌                                       │
0.60┤                        ▜▄▄▄▄█▙▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▟▐▌                                       │
    └┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬┘
   0.00      0.36       0.72      1.07      1.43       1.79      2.15      2.51       2.87     3.22 

──────────────────────────────────── CPU0 Frequency residency % ────────────────────────────────────
0.6   ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 94.35000000000001
0.972 ▇ 1.47
1.332 ▇ 1.31
1.704 ▇ 0.68
2.064 ▇▇ 2.19

──────────────────────────────────── CPU4 Frequency residency % ────────────────────────────────────
0.6   ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 40.18
0.828 ▇ 0.44
1.5   ▇▇ 1.1400000000000001
1.956 ▇ 0.42
2.184 ▇ 0.63
2.388 ▇ 0.42
2.592 ▇ 0.8200000000000001
2.772 ▇ 0.42
2.988 ▇ 0.42
3.096 ▇ 0.42
3.204 ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 54.72
```

### Plot freq and freq residency for a task

Can be used on any perfetto trace captured with cpufreq and sched data.

```
sched-analyzer-pp --freq-task rampup --freq-residency-task rampup sched-analyzer.perfetto-trace

                                      38673 rampup CPU0.0 Frequency                                 
    ┌──────────────────────────────────────────────────────────────────────────────────────────────┐
2.06┤                                                    ▐▀▘                                       │
1.70┤                                                    ▐                                         │
1.33┤                        ▗                           ▟                                         │
    │                                                    ▌                                         │
0.97┤                                                    ▌                                         │
0.60┤                          ▖ ▗   ▗▗     ▗▗    ▗ ▖   ▄▌                                         │
    └┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬┘
   0.00      0.36       0.72      1.07      1.43       1.79      2.15      2.51       2.87     3.22 
                                      38673 rampup CPU4.0 Frequency                                 
    ┌──────────────────────────────────────────────────────────────────────────────────────────────┐
3.20┤                                                       ▐▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀                     │
2.89┤                                                       ▛                                      │
2.58┤                                                      ▐▘                                      │
    │                                                      ▐                                       │
2.27┤                                                      ▟                                       │
1.96┤                                                      ▌                                       │
    └┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬┘
   0.00      0.36       0.72      1.07      1.43       1.79      2.15      2.51       2.87     3.22 

──────────────────────────── 38673 rampup CPU0.0 Frequency residency % ─────────────────────────────
0.6   ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 87.97
0.972 ▇ 1.06
1.332 ▇▇▇▇▇▇ 6.0
1.704 ▇ 0.99
2.064 ▇▇▇▇ 3.97

──────────────────────────── 38673 rampup CPU4.0 Frequency residency % ─────────────────────────────
1.956 ▇▇ 1.56
2.184 ▇▇ 1.56
2.388 ▇▇ 1.56
2.772 ▇▇ 1.56
2.988 ▇▇ 1.56
3.096 ▇▇ 1.56
3.204 ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 90.62
```

### Plot idle residency for each CPU

Can be used on any perfetto trace captured with cpuidle data.

Output will be colored on terminal.

```
sched-analyzer-pp --idle-residency sched-analyzer.perfetto-trace

─────────────────────────────────────── CPU Idle Residency % ───────────────────────────────────────
  ▇▇▇▇▇▇ 6.67
0 ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 56.21
  ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 37.12

  ▇ 1.1
1 ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 68.69
  ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 30.21

   0.32
2 ▇▇▇▇▇▇▇▇▇▇ 10.93
  ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 88.76

  ▇ 1.1
3 ▇▇▇▇▇▇▇▇▇ 9.82
  ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 89.08

   0.05
4  0.08
  ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 99.87

   0.01
5 ▇ 1.19
  ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 98.8

   0.01
6 ▇ 1.34
  ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 98.65

   0.01
7 ▇ 1.31
  ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 98.68
───────────────────────────────────── ▇▇▇ -1.0 ▇▇▇ 0.0 ▇▇▇ 1.0 ─────────────────────────────────────
```

### Plot PELT data for a CPU or a Task

Requires perfetto trace captured with sched-analyzer with one of the PELT flag
set, ie: `sched-analyzer --util-avg --load-avg --runnable-avg`. Only specify
the signal you're interested in, you don't have to specify them all.

#### Plot PELT signal for all CPUs

You can replace util-avg with runnable-avg etc for any of the examples below.

```
sched-analyzer-pp --util-avg CPU sched-analyzer.perfetto-trace

                                              CPU0 util_avg                                         
     ┌─────────────────────────────────────────────────────────────────────────────────────────────┐
426.0┤                                                    ▗█                                       │
319.5┤                                                    ▐▐                                       │
213.0┤                                                    ▟▐                                       │
     │ ▐▖                    ▙                            ▌▐                                       │
106.5┤ ▐▜▖                   ▛▙                          ▟▘▐                                       │
  0.0┤▄▟ ▀▜▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▌▝▀▙▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▟▘ ▐▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄│
     └┬─────────┬─────────┬──────────┬─────────┬─────────┬─────────┬──────────┬─────────┬─────────┬┘
    0.00      0.36      0.72       1.07      1.43      1.79      2.15       2.51      2.87     3.22 
                                              CPU1 util_avg                                         
     ┌─────────────────────────────────────────────────────────────────────────────────────────────┐
401.0┤▙                                                                                            │
300.8┤▜                                                                                            │
200.5┤▝▌                                                                                           │
     │ ▜                                                                                           │
100.2┤ ▝▙▖                                                                                         │
  0.0┤   ▀▜▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄│
     └┬─────────┬─────────┬──────────┬─────────┬─────────┬─────────┬──────────┬─────────┬─────────┬┘
    0.00      0.36      0.72       1.07      1.43      1.79      2.15       2.51      2.87     3.22 
                                              CPU2 util_avg                                         
     ┌─────────────────────────────────────────────────────────────────────────────────────────────┐
345.0┤▙                                                                                            │
258.8┤▐▖                                                                                           │
172.5┤ ▌                                                                                           │
     │ ▜▖                                                                                          │
 86.2┤  ▙▖                                                                                         │
  0.0┤   ▀▜▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄│
     └┬─────────┬─────────┬──────────┬─────────┬─────────┬─────────┬──────────┬─────────┬─────────┬┘
    0.00      0.36      0.72       1.07      1.43      1.79      2.15       2.51      2.87     3.22 
                                              CPU3 util_avg                                         
    ┌──────────────────────────────────────────────────────────────────────────────────────────────┐
90.0┤                       ▐▌                                                                     │
67.5┤                       ▐▙                                                                     │
45.0┤                       ▐▐                                                                     │
    │                       ▐▝▙                                                                    │
22.5┤                       ▐ ▐█▄               ▗▖                                                 │
 0.0┤▟▄▄▄▄▄▄▄▄▄▄▄▄▄▟▙▄▄▄▄▄▄▟▟   ▝▜▄▄▄▄▄▄▄▄▄▄▄▄▄▄▟▀▀▙▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▟▜▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄│
    └┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬┘
   0.00      0.36       0.72      1.07      1.43       1.79      2.15      2.51       2.87     3.22 
                                              CPU4 util_avg                                         
    ┌──────────────────────────────────────────────────────────────────────────────────────────────┐
1024┤                                                        ▄▄▛▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▌│
 768┤▙                                                      ▟▘                                    ▌│
 512┤▐▖                                                    ▟▘                                     ▙│
    │ ▙                                                    ▌                                       │
 256┤ ▝▙▄                                                  ▌                                       │
   0┤   ▝▜▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▌                                       │
    └┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬┘
   0.00      0.36       0.72      1.07      1.43       1.79      2.15      2.51       2.87     3.22 
                                              CPU5 util_avg                                         
     ┌─────────────────────────────────────────────────────────────────────────────────────────────┐
513.0┤▙                                                                                           ▐│
384.8┤▐                                                                                           ▐│
256.5┤▝▌                                                                                          ▐│
     │ ▜▖                                                                                         ▐│
128.2┤  ▌                                                                                         ▐│
  0.0┤  ▙▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▟│
     └┬─────────┬─────────┬──────────┬─────────┬─────────┬─────────┬──────────┬─────────┬─────────┬┘
    0.00      0.36      0.72       1.07      1.43      1.79      2.15       2.51      2.87     3.22 
                                              CPU6 util_avg                                         
     ┌─────────────────────────────────────────────────────────────────────────────────────────────┐
513.0┤▙▖                   ▐▖                                                                      │
384.8┤ ▌                   ▐▌                                                                      │
256.5┤ ▌                   ▐▜                                                                      │
     │ ▜                   ▐▝▙▖                                                                    │
128.2┤ ▝▙▄                 ▐  ▌                                                                    │
  0.0┤   ▝▜▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▟  ▙▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄│
     └┬─────────┬─────────┬──────────┬─────────┬─────────┬─────────┬──────────┬─────────┬─────────┬┘
    0.00      0.36      0.72       1.07      1.43      1.79      2.15       2.51      2.87     3.22 
                                              CPU7 util_avg                                         
     ┌─────────────────────────────────────────────────────────────────────────────────────────────┐
525.0┤▌                                                                                           █│
393.8┤▀▌                                                                                          █│
262.5┤ ▌                                                                                          █│
     │ ▜▖                                                                                         █│
131.2┤  ▙▄                                                                                        █│
  0.0┤   ▝▜▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄█│
     └┬─────────┬─────────┬──────────┬─────────┬─────────┬─────────┬──────────┬─────────┬─────────┬┘
    0.00      0.36      0.72       1.07      1.43      1.79      2.15       2.51      2.87     3.22
```

#### Plot PELT signal for specific CPU

```
sched-analyzer-pp --util-avg CPU4 sched-analyzer.perfetto-trace

                                              CPU4 util_avg                                         
    ┌──────────────────────────────────────────────────────────────────────────────────────────────┐
1024┤                                                        ▄▄▛▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▌│
 768┤▙                                                      ▟▘                                    ▌│
 512┤▐▖                                                    ▟▘                                     ▙│
    │ ▙                                                    ▌                                       │
 256┤ ▝▙▄                                                  ▌                                       │
   0┤   ▝▜▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▌                                       │
    └┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬┘
   0.00      0.36       0.72      1.07      1.43       1.79      2.15      2.51       2.87     3.22 
```

#### Plot PELT signal for a task

```
sched-analyzer-pp --util-avg rampup sched-analyzer.perfetto-trace

                                          rampup-38673 util_avg                                     
    ┌──────────────────────────────────────────────────────────────────────────────────────────────┐
1024┤                                                        ▄▄▛▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀│
 768┤                                                       ▟▘                                     │
 512┤                                                      ▟▘                                      │
    │                      ▄                              ▐▘                                       │
 256┤                      ▝▙▖                           ▐▀                                        │
   0┤                        ▀▙▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▟▀                                         │
    └┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬┘
   0.00      0.36       0.72      1.07      1.43       1.79      2.15      2.51       2.87     3.22 
```

#### Plot PELT signal for a task showing only values when it is RUNNING

```
sched-analyzer-pp --util-avg-running rampup sched-analyzer.perfetto-trace

                                       rampup-38673 util_avg running                                
      ┌────────────────────────────────────────────────────────────────────────────────────────────┐
1023.0┤                                                       ▄▟▀▀▀▀▀▀▀▀▀▀▀▀▀▀▘                    │
 767.2┤                                                      ▟▘                                    │
 511.5┤                                                     ▟▘                                     │
      │                                                    ▟▘                                      │
 255.8┤                                                   ▐▘                                       │
   0.0┤                        ▘▗  ▖  ▗▗     ▗ ▖   ▗ ▖   ▟▀                                        │
      └┬─────────┬─────────┬─────────┬─────────┬──────────┬─────────┬─────────┬─────────┬─────────┬┘
     0.00      0.36      0.72      1.07      1.43       1.79      2.15      2.51      2.87     3.22 
```

#### Plot histogram/residency for a PELT signal

Each signal has a `-hist` and `-residency` option to show a histogram and
residency % information. The residency shows the amount of % time spent at that
specific value.

```
sched-analyzer-pp --util-avg CPU4 --util-avg-hist CPU4 --util-avg-residency CPU4 \
  --util-avg-running rampup --util-avg-running-hist rampup \
  --util-avg-running-residency rampup sched-analyzer.perfetto-trace

                                              CPU4 util_avg                                         
    ┌──────────────────────────────────────────────────────────────────────────────────────────────┐
1024┤                                                        ▄▄▛▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▌│
 768┤▙                                                      ▟▘                                    ▌│
 512┤▐▖                                                    ▟▘                                     ▙│
    │ ▙                                                    ▌                                       │
 256┤ ▝▙▄                                                  ▌                                       │
   0┤   ▝▜▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▌                                       │
    └┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬─────────┬──────────┬─────────┬┘
   0.00      0.36       0.72      1.07      1.43       1.79      2.15      2.51       2.87     3.22 
                                         CPU4 util_avg Histogram                                    
     ┌─────────────────────────────────────────────────────────────────────────────────────────────┐
15000┤█                                                                                            │
11250┤█                                                                                            │
 7500┤█                                                                                           █│
     │█                                                                                           █│
 3750┤█                                                                                           █│
    0┤████  ██       █            █     █       ██   ███ ██ ██   ██  ███   ██ ███  █  █ █ █████████│
     └─┬─────┬───────┬────────────┬─────┬────────┬───┬────┬───────┬────┬──────┬───────┬──────────┬─┘
     13.0  72.0    166.0        309.0 380.0  478.0 525.0 575.0 665.0 724.0  801.0   889.0   1014.0  

──────────────────────────────────── CPU4 util_avg residency % ─────────────────────────────────────
0.0    ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 46.54
1.0    ▇▇▇ 1.86
2.0    ▇ 0.62
6.0    ▇▇ 1.24
13.0   ▇▇ 1.24
17.0   ▇ 0.31
31.0   ▇▇ 0.93
72.0   ▇▇ 1.24
166.0  ▇▇ 1.24
309.0  ▇▇ 0.93
380.0  ▇ 0.31
468.0  ▇ 0.31
478.0  ▇ 0.31
525.0   0.06
527.0   0.21
533.0   0.01
542.0  ▇ 0.31
575.0  ▇ 0.31
605.0  ▇ 0.31
665.0  ▇ 0.31
708.0  ▇ 0.31
724.0  ▇ 0.31
776.0  ▇ 0.31
800.0   0.01
801.0   0.19
821.0  ▇ 0.31
859.0  ▇ 0.31
889.0  ▇ 0.31
914.0  ▇ 0.31
935.0  ▇ 0.31
951.0  ▇ 0.31
965.0  ▇ 0.31
976.0  ▇ 0.31
985.0  ▇ 0.31
992.0  ▇ 0.31
998.0  ▇ 0.31
1003.0 ▇ 0.31
1007.0 ▇ 0.31
1010.0 ▇ 0.31
1012.0 ▇ 0.31
1014.0 ▇ 0.31
1016.0 ▇ 0.31
1017.0 ▇ 0.31
1019.0 ▇ 0.62
1020.0 ▇ 0.31
1021.0 ▇ 0.62
1022.0 ▇▇ 0.93
1023.0 ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 28.48
1024.0 ▇▇▇▇▇▇▇ 3.72
                                       rampup-38673 util_avg running                                
      ┌────────────────────────────────────────────────────────────────────────────────────────────┐
1023.0┤                                                       ▄▟▀▀▀▀▀▀▀▀▀▀▀▀▀▀▘                    │
 767.2┤                                                      ▟▘                                    │
 511.5┤                                                     ▟▘                                     │
      │                                                    ▟▘                                      │
 255.8┤                                                   ▐▘                                       │
   0.0┤                        ▘▗  ▖  ▗▗     ▗ ▖   ▗ ▖   ▟▀                                        │
      └┬───────────────────────────┬───────────────────────────┬───────────────────────────────────┘
      0.0                         1.0                         2.0                                   
                                 rampup-38673 util_avg running Histogram                            
    ┌──────────────────────────────────────────────────────────────────────────────────────────────┐
3200┤                                                                                             █│
2400┤                                                                                             █│
1600┤                                                                                             █│
    │                                                                                             █│
 800┤                                                                                             █│
   0┤███ ████   █   ██    ██    ██    ██   ██   ██    █     █    ██   ██   ██  ██  █ ██ █ █████████│
    └──┬───┬────┬─────────┬──────┬────┬─────────┬─────┬──────────┬─────┬───┬──────────┬──────────┬─┘
    22.0 64.0 118.0     233.0  303.0 366.0    478.0 542.0    665.0 724.0 776.0      889.0   1014.0  

──────────────────────────── rampup-38673 util_avg running residency % ─────────────────────────────
0.0    ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 39.7
3.0    ▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 7.34
22.0   ▇▇▇▇▇▇▇▇▇▇▇ 6.1000000000000005
48.0   ▇ 0.67
64.0   ▇▇▇▇▇▇ 3.06
77.0   ▇ 0.61
118.0  ▇ 0.61
170.0  ▇ 0.61
233.0  ▇ 0.61
303.0  ▇ 0.61
366.0  ▇ 0.61
425.0  ▇ 0.61
478.0  ▇ 0.61
542.0  ▇ 0.61
605.0  ▇ 0.61
665.0  ▇ 0.61
724.0  ▇ 0.61
776.0  ▇ 0.61
821.0  ▇ 0.61
859.0  ▇ 0.61
889.0  ▇ 0.61
914.0  ▇ 0.61
935.0  ▇ 0.61
951.0  ▇ 0.61
965.0  ▇ 0.61
976.0  ▇ 0.61
985.0  ▇ 0.61
992.0  ▇ 0.61
998.0  ▇ 0.61
1003.0 ▇ 0.61
1007.0 ▇ 0.61
1010.0 ▇ 0.61
1012.0 ▇ 0.61
1014.0 ▇ 0.61
1016.0 ▇ 0.61
1017.0 ▇ 0.61
1019.0 ▇▇ 1.21
1020.0 ▇ 0.61
1021.0 ▇▇ 1.21
1022.0 ▇▇▇ 1.82
1023.0 ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 19.43
```

#### Manipulate plots

You can control the start and end timestamp to zoom into a specific window of
time. Histogram and residency info then will only be relative to this selected
window then.

You can also control the width and height of the TUI figures and frequency of
ticks on x and y axis. And show a grid for both x and y axis or only one of
them.

```
sched-analyzer-pp --util-avg CPU4 --util-avg-hist CPU4 --util-avg-residency CPU4 \
  --util-avg rampup --util-avg-hist rampup --util-avg-residency rampup \
  --ts-start 1.6 --ts-end 2.1 --fig-width-tui 130 --fig-height-tui 20 \
  --grid-y-tui sched-analyzer.perfetto-trace

                                                              CPU4 util_avg                                                       
      ┌┬────────────┬─────────────┬────────────┬─────────────┬────────────┬─────────────┬────────────┬─────────────┬────────────┬┐
1019.0┤│            │             │            │             │            │             │            ▄▄▄▄▄▄▄▄▄▟▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀│
      ││            │             │            │             │            │             │  ▄▄▄▄▄▛▀▀▀▀▘             │            ││
      ││            │             │            │             │            │           ▗▄▟▀▀▘         │             │            ││
      ││            │             │            │             │            │      ▗▄▄▛▀▀ │            │             │            ││
 764.2┤│            │             │            │             │            │    ▄▄▟      │            │             │            ││
      ││            │             │            │             │            │ ▗▄▄▌        │            │             │            ││
      ││            │             │            │             │            ▄▄▟           │            │             │            ││
 509.5┤│            │             │            │             │         ▗▄▄▌             │            │             │            ││
      ││            │             │            │             │       ▐▀▀  │             │            │             │            ││
      ││            │             │            │             │       ▐    │             │            │             │            ││
      ││            │             │            │             │       ▐    │             │            │             │            ││
 254.8┤│            │             │            │             │       ▐    │             │            │             │            ││
      ││            │             │            │             │       ▐    │             │            │             │            ││
      ││            │             │            │             │       ▐    │             │            │             │            ││
      ││            │             │            │             │       ▐    │             │            │             │            ││
   0.0┤▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▟    │             │            │             │            ││
      └┼────────────┼─────────────┼────────────┼─────────────┼────────────┼─────────────┼────────────┼─────────────┼────────────┼┘
     1.600        1.656         1.711        1.767         1.822        1.878         1.933        1.989         2.044      2.100 
                                                          rampup-38673 util_avg                                                   
      ┌┬────────────┬─────────────┬────────────┬─────────────┬────────────┬─────────────┬────────────┬─────────────┬────────────┬┐
1019.0┤│            │             │            │             │            │             │            ▄▄▄▄▄▄▄▄▄▟▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀▀│
      ││            │             │            │             │            │             │  ▄▄▄▄▄▛▀▀▀▀▘             │            ││
      ││            │             │            │             │            │           ▗▄▟▀▀▘         │             │            ││
      ││            │             │            │             │            │      ▗▄▄▛▀▀ │            │             │            ││
 764.2┤│            │             │            │             │            │    ▄▄▟      │            │             │            ││
      ││            │             │            │             │            │ ▗▄▄▌        │            │             │            ││
      ││            │             │            │             │            ▄▄▟           │            │             │            ││
 509.5┤│            │             │            │             │         ▗▄▄▌             │            │             │            ││
      ││            │             │            │             │       ▐▀▀  │             │            │             │            ││
      ││            │             │            │             │     ▛▀▀    │             │            │             │            ││
      ││            │             │            │             │  ▐▀▀▘      │             │            │             │            ││
 254.8┤│            │             │            │             │▛▀▀         │             │            │             │            ││
      ││            │             │            │           ▐▀▀▘           │             │            │             │            ││
      ││            │             │            │      ▗▄▄▛▀▀ │            │             │            │             │            ││
      ││            │             │            │    ▗▄▟      │            │             │            │             │            ││
   0.0┤▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▛▀▀▀▀▘        │            │             │            │             │            ││
      └┼────────────┼─────────────┼────────────┼─────────────┼────────────┼─────────────┼────────────┼─────────────┼────────────┼┘
     1.600        1.656         1.711        1.767         1.822        1.878         1.933        1.989         2.044      2.100 
                                                         CPU4 util_avg Histogram                                                  
      ┌┬────────────────────────────────────────────────────────┬──────┬───────┬──────┬──────┬─────┬─────────┬────────┬────────┬─┐
2563.0┤██                                                       │      │       │      │      │     │         │        │        │ │
      │██                                                       │      │       │      │      │     │         │        │        │ │
      │██                                                       │      │       │      │      │     │         │        │        │ │
      │██                                                       │      │       │      │      │     │         │        │        │ │
1922.2┤██                                                       │      │       │      │      │     │         │        │        │ │
      │██                                                       │      │       │      │      │     │         │        │        │ │
      │██                                                       │      │       │      │      │     │         │        │        │ │
1281.5┤██                                                       │      │       │      │      │     │         │        │        │ │
      │██                                                       │      │       │      │      │     │         │        │        │ │
      │██                                                       │      │       │      │      │     │         │        │        │ │
      │██                                                       │      │       │      │      │     │         │        │        │ │
 640.8┤██                                                       │      │       │      │      │     │         │        │        │ │
      │██                                                       │      │       │      │      │     │         │        │        │ │
      │██                                                       │      │       │      │      │     │         │        │        │ │
      │██                                                      ██      ██     ██     ██     ██    ██    ██  ██  ██ ██████████████│
   0.0┤██                                                      ██      ██     ██     ██     ██    ██    ██  ██  ██ ██████████████│
      └┼────────────────────────────────────────────────────────┼──────┼───────┼──────┼──────┼─────┼─────────┼────────┼────────┼─┘
      0.0                                                     478.0  542.0   605.0  665.0  724.0 776.0     859.0   935.0  1012.0  
                                                    rampup-38673 util_avg Histogram                                               
    ┌───┬──────┬────┬─────┬──────┬────────┬──────┬──────┬──────┬──────┬───────┬──────┬──────┬─────┬─────────┬─────────┬────────┬─┐
1652┤██ │      │    │     │      │        │      │      │      │      │       │      │      │     │         │         │        │ │
    │██ │      │    │     │      │        │      │      │      │      │       │      │      │     │         │         │        │ │
    │██ │      │    │     │      │        │      │      │      │      │       │      │      │     │         │         │        │ │
    │██ │      │    │     │      │        │      │      │      │      │       │      │      │     │         │         │        │ │
1239┤██ │      │    │     │      │        │      │      │      │      │       │      │      │     │         │         │        │ │
    │██ │      │    │     │      │        │      │      │      │      │       │      │      │     │         │         │        │ │
    │██ │      │    │     │      │        │      │      │      │      │       │      │      │     │         │         │        │ │
 826┤██ │      │    │     │      │        │      │      │      │      │       │      │      │     │         │         │        │ │
    │██ │      │    │     │      │        │      │      │      │      │       │      │      │     │         │         │        │ │
    │██ │      │    │     │      │        │      │      │      │      │       │      │      │     │         │         │        │ │
    │██ │      │    │     │      │        │      │      │      │      │       │      │      │     │         │         │        │ │
 413┤██ │      │    │     │      │        │      │      │      │      │       │      │      │     │         │         │        │ │
    │██ │      │    │     │      │        │      │      │      │      │       │      │      │     │         │         │        │ │
    │██ │      │    │     │      │        │      │      │      │      │       │      │      │     │         │         │        │ │
    │██ █  █  ██   ██    ██      ██      ██      ██     ██    ██      ██      █      ██     ██    ██    █   ██  █  █ ████████████│
   0┤██ █  █  ██   ██    ██      ██      ██      ██     ██    ██      ██      █      ██     ██    ██    █   ██  █  █ ████████████│
    └───┼──────┼────┼─────┼──────┼────────┼──────┼──────┼──────┼──────┼───────┼──────┼──────┼─────┼─────────┼─────────┼────────┼─┘
      22.0  77.0 118.0  170.0  233.0    303.0  366.0  425.0  478.0  542.0   605.0  665.0  724.0 776.0     859.0    935.0  1012.0  

─────────────────────────────────────────────────── CPU4 util_avg residency % ────────────────────────────────────────────────────
0.0    ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 51.26
478.0  ▇▇▇▇▇ 2.0
542.0  ▇▇▇▇▇ 2.0
605.0  ▇▇▇▇▇ 2.0
665.0  ▇▇▇▇▇ 2.0
724.0  ▇▇▇▇▇ 2.0
776.0  ▇▇▇▇▇ 2.0
821.0  ▇▇▇▇▇ 2.0
859.0  ▇▇▇▇▇ 2.0
889.0  ▇▇▇▇▇ 2.0
914.0  ▇▇▇▇▇ 2.0
935.0  ▇▇▇▇▇ 2.0
951.0  ▇▇▇▇▇ 2.0
965.0  ▇▇▇▇▇ 2.0
976.0  ▇▇▇▇▇ 2.0
985.0  ▇▇▇▇▇ 2.0
992.0  ▇▇▇▇▇ 2.0
998.0  ▇▇▇▇▇ 2.0
1003.0 ▇▇▇▇▇ 2.0
1007.0 ▇▇▇▇▇ 2.0
1010.0 ▇▇▇▇▇ 2.0
1012.0 ▇▇▇▇▇ 2.0
1014.0 ▇▇▇▇▇ 2.0
1016.0 ▇▇▇▇▇ 2.0
1017.0 ▇▇▇▇▇ 2.0
1019.0 ▇▇ 0.74

─────────────────────────────────────────────── rampup-38673 util_avg residency % ────────────────────────────────────────────────
0.0    ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 33.04
22.0   ▇▇▇▇▇▇▇ 1.98
48.0   ▇▇▇▇▇▇▇▇ 2.24
77.0   ▇▇▇▇▇▇▇ 2.0
118.0  ▇▇▇▇▇▇▇ 2.0
170.0  ▇▇▇▇▇▇▇ 2.0
233.0  ▇▇▇▇▇▇▇ 2.0
303.0  ▇▇▇▇▇▇▇ 2.0
366.0  ▇▇▇▇▇▇▇ 2.0
425.0  ▇▇▇▇▇▇▇ 2.0
478.0  ▇▇▇▇▇▇▇ 2.0
542.0  ▇▇▇▇▇▇▇ 2.0
605.0  ▇▇▇▇▇▇▇ 2.0
665.0  ▇▇▇▇▇▇▇ 2.0
724.0  ▇▇▇▇▇▇▇ 2.0
776.0  ▇▇▇▇▇▇▇ 2.0
821.0  ▇▇▇▇▇▇▇ 2.0
859.0  ▇▇▇▇▇▇▇ 2.0
889.0  ▇▇▇▇▇▇▇ 2.0
914.0  ▇▇▇▇▇▇▇ 2.0
935.0  ▇▇▇▇▇▇▇ 2.0
951.0  ▇▇▇▇▇▇▇ 2.0
965.0  ▇▇▇▇▇▇▇ 2.0
976.0  ▇▇▇▇▇▇▇ 2.0
985.0  ▇▇▇▇▇▇▇ 2.0
992.0  ▇▇▇▇▇▇▇ 2.0
998.0  ▇▇▇▇▇▇▇ 2.0
1003.0 ▇▇▇▇▇▇▇ 2.0
1007.0 ▇▇▇▇▇▇▇ 2.0
1010.0 ▇▇▇▇▇▇▇ 2.0
1012.0 ▇▇▇▇▇▇▇ 2.0
1014.0 ▇▇▇▇▇▇▇ 2.0
1016.0 ▇▇▇▇▇▇▇ 2.0
1017.0 ▇▇▇▇▇▇▇ 2.0
1019.0 ▇▇▇ 0.74
```

#### Show a summary of task sched states and time RUNNING on each CPU

Show information about task's execution states including total time spent in
each state as absolute sum and percentage. It also shows stats on the time
spent in each state ie: min, max, P50, P90 etc. Runnable info are particularly
useful to reason about the wake up latency of a specific task.

This option can work on any perfetto trace captured with sched info.

```
sched-analyzer-pp --sched-states rampup sched-analyzer.perfetto-trace

====================================
::  38673 | rampup | ['./rampup'] ::
====================================================================================================
----------------------------------------------------------------------------------------------------
───────────────────────────── Sum Time in State Exclude Sleeping (ms) ──────────────────────────────
R        2.19
Running ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 739.85

────────────────────────────── % Time in State Exclude Sleeping (ms) ───────────────────────────────
R        0.3
Running ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 99.7

─────────────────────────────────── Sum Time Running on CPU (ms) ───────────────────────────────────
CPU0.0 ▇▇▇▇▇▇▇▇▇▇▇▇▇ 99.89
CPU4.0 ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 639.96

──────────────────────────────────── % Time Running on CPU (ms) ────────────────────────────────────
CPU0.0 ▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 13.5
CPU4.0 ▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇▇ 86.5

Time in State (ms):
----------------------------------------------------------------------------------------------------
         count   mean    std    min    50%    75%    90%    95%    99%     max
state                                                                         
R        107.0   0.02   0.02   0.00   0.02   0.02   0.02   0.02   0.12    0.20
Running  107.0   6.91  53.70  -0.00   0.01   0.01   0.16  10.05  76.96  550.00
S         94.0  10.05   0.00  10.04  10.05  10.05  10.05  10.05  10.05   10.05

Time Running on CPU (ms):
----------------------------------------------------------------------------------------------------
     count    mean     std  min    50%     75%     90%     95%     99%     max
cpu                                                                           
0.0  103.0    0.97    4.07  0.0   0.01    0.01    0.01    9.50   20.53   29.81
4.0    4.0  159.99  262.43 -0.0  44.98  197.47  408.99  479.49  535.90  550.00

```

#### Show a table summary for Top 100 tasks that are runnable, running and blocked

Partial output is shown as it is quite long. Two tables are shown for each
category. One is sorted by max value and the other is sorted by P90. The former
should help identify worst case sceneraios and the latter should help identify
tasks that has frequently seen high value. Runnable info are particularly
important for to reason about latencies the tasks has experienced in the trace.

This option can work on any perfetto trace captured with sched info.

```
sched-analyzer-pp --sched-report sched-analyzer.perfetto-trace

States Summary (ms):
----------------------------------------------------------------------------------------------------
         count    mean     std  min    50%     75%     90%     95%      99%      max
state                                                                               
I         37.0  206.48  268.23 -0.0  79.95  319.94  553.99  857.98   960.37   999.98
R        697.0    0.10    0.81  0.0   0.02    0.02    0.03    0.04     0.31    10.70
Running  699.0    1.11   21.07 -0.0   0.02    0.04    0.06    0.08    10.00   550.00
S        646.0   39.02  133.29 -0.0  10.05   10.05   70.50  115.10  1000.36  1023.82

Top 100 Runnable Tasks (ms) - sorted-by max:
----------------------------------------------------------------------------------------------------
                       count  mean   std   min   50%   75%   90%   95%   99%    max
name            tid                                                                
sched-analyzer  38666  167.0  0.08  0.83  0.00  0.02  0.02  0.02  0.02  0.13  10.70
kworker/4:0     2060     4.0  2.51  4.99  0.00  0.02  2.51  7.01  8.50  9.70  10.00
tracebox        3524    28.0  0.36  1.76  0.01  0.03  0.04  0.04  0.04  6.83   9.34
kworker/0:0     21208    2.0  4.46  6.29  0.01  4.46  6.69  8.02  8.47  8.82   8.91
.
.
.

Top 100 Runnable Tasks (ms) - sorted-by 90%:
----------------------------------------------------------------------------------------------------
                       count  mean   std   min   50%   75%   90%   95%   99%    max
name            tid                                                                
kworker/0:0     21208    2.0  4.46  6.29  0.01  4.46  6.69  8.02  8.47  8.82   8.91
kworker/4:0     2060     4.0  2.51  4.99  0.00  0.02  2.51  7.01  8.50  9.70  10.00
tracebox        3529     3.0  1.06  1.74  0.04  0.08  1.57  2.47  2.77  3.01   3.07
.
.
.

Top 100 Running Tasks (ms) - sorted-by max:
----------------------------------------------------------------------------------------------------
                       count  mean    std   min   50%   75%   90%    95%    99%     max
name            tid                                                                    
rampup          38673  107.0  6.91  53.70 -0.00  0.01  0.01  0.16  10.05  76.96  550.00
tracebox        3524    28.0  0.20   0.71 -0.00  0.06  0.08  0.09   0.09   2.81    3.82
.
.
.

Top 100 Running Tasks (ms) - sorted-by 90%:
----------------------------------------------------------------------------------------------------
                       count  mean    std   min   50%   75%   90%    95%    99%     max
name            tid                                                                    
tracebox        3529     3.0  0.99   1.67 -0.00  0.05  1.48  2.35   2.63   2.86    2.92
snapd           1133     2.0  0.95   1.31  0.02  0.95  1.41  1.69   1.78   1.85    1.87
.
.
.
```
